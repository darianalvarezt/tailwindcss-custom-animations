---
import Layout from '../layouts/Layout.astro'

import theme from '../../../src/theme.js'

const { animation } = theme
---

<Layout title='Welcome to Astro.'>
	<main class='pb-20'>
		<header class='max-w-4xl m-auto flex items-center justify-center py-10 flex-col'>
			<h1 class='font-semibold text-4xl pt-10 pb-4'>Tailwind css custom animations</h1>
			<h2 class='font-medium opacity-70'>The plugin that you need</h2>
			<div class='mt-10'>
				<code>npm install @darianalvarezt/tailwind-custom-animations</code>
			</div>
		</header>

		<section class='max-w-4xl m-auto grid grid-cols-3 gap-4'>
			{
				Object.keys(animation).map(item => {
					return (
						<article
							class='col-span-1 border rounded border-gray-200 hover:border-gray-600 hover:shadow transition cursor-crosshair'
							data-class={item}>
							<div class='flex p-4 gap-4 items-center justify-center flex-col h-full w-full'>
								<span class='w-16 h-16 bg-gray-200 rounded-md flex items-center justify-center' />
								<h3 class='font-semibold text-xs opacity-80'>{item}</h3>
							</div>
						</article>
					)
				})
			}
		</section>
	</main>
</Layout>

<script>
	const $articles = document.querySelectorAll('article')

	$articles.forEach($article => {
		const animationKey = $article.getAttribute('data-class')
		const animationClass = `animate-${animationKey}`
		const $box = $article.querySelector('span')

		if ($box === null) return

		$article.addEventListener('mouseenter', () => {
			$box.classList.add(animationClass)
		})

		$article.addEventListener('mouseleave', () => {
			$box.classList.remove(animationClass)
		})
	})
</script>
